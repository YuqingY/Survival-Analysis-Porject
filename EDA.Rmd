---
title: "EDA"
author: "Helen Lan & Rachel Yang"
date: "4/7/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(broom)
#library(tidylog)
library(ggfortify)
library(survival)
library(reshape2)
library(ggplot2)
```

```{r, include=FALSE}
AIDS <- read_csv("~/Desktop/Math150-Project/AIDSdata.csv")
```
```{r}
summary(AIDS$age)
summary(AIDS$time_d)
AIDS$SurvObj <- with( AIDS, Surv(time_d, censor == 0))
km.AIDS <- survfit(SurvObj ~ 1, data = AIDS, conf.type = "log-log")
autoplot(km.AIDS)
```
Something New
1. Investigation of PH assumption (Rachel)
1.1 Introduction 
1.1.1 What is PH Assumption, and why it is important?
    Proportional Harzard(PH) Assumption is the assumption that any two groups 
    in the study must have hazard functions that are proportional over time 
    (i.e. have parallel curve). A non-proportional hazard means that there is 
    an interation between our independent variable and time, therefore we need 
    to do more work and be more careful when designing our model.
1.1.2 Resources
    My knowledge of the concept of PH Assumption mainly comes from 
    class lectures. I will use r documentation(linked below) to learn about the 
    cox.zph function.
    https://www.rdocumentation.org/packages/survival/versions/2.43-3/topics/cox.zph
1.1.3 Challenges
    The first challenge is figuring out the r code. The second challenge is 
    interpretating of the result and deciding what to do with our model base on 
    the result.
1.2 Testing the PH Assumption
1.3 Interpretation
1.4 Actions

2. Deriving/detailing AIC&BIC for model seleciton on Cox PH (Helen)
2.1 Introduction
2.1.1 Definition and mathematics of AIC & BIC
    AIC: Akaike’s Information Criteria =  −2ln likelihood + 2p
    BIC: Bayesian Information Criteria =  −2ln likelihood + pln(n)
    where p is the number of estimated parameters (the number of explanatory variables plus 1) and n is the
    sample size. AIC and BIC measure the model's generalizability.Both techniques suggest choosing a model 
    with the smallest AIC or BIC value. Information criteria in general measures the information lost when we use a
    statistical model to approximate the true model. Thus, the less information is lost during this process, the better
    the approximating model is. 
2.1.2 Resources
    I came to know this concept from our lecture's brief introduction to AIC and BIC when we talked about model building.
    I learned more about information criteria in model selection through Christensen(UCLA)'s publication
    https://www.sas.com/content/dam/SAS/support/en/sas-global-forum-proceedings/2018/2587-2018.pdf
    R codes and BeSS Package: https://cran.r-project.org/web/packages/BeSS/BeSS.pdf
2.1.3 Challenges
    It is challenging to understand the application of AIC/BIC in Cox PH model selection and get the R codes to work. 
2.2 Deriving AIC & BIC on Cox PH in R
2.3 Forward selection using AIC & BIC
2.4 Backward selection using AIC & BIC
2.5 Interpretation and conclusion
